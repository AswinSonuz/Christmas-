<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Merry Christmas ğŸ„ | AswinSonuzz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}

body{
  background:radial-gradient(circle at top,#1b2735,#090a0f);
  color:#fff;
  min-height:100vh;
  text-align:center;
  transition:background .6s;
}

body.christmas{
  background:radial-gradient(circle at top,#060b12,#000);
}

.container{max-width:900px;margin:auto;padding:30px 20px}

.card{
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(14px);
  border-radius:22px;
  padding:30px;
  margin-bottom:25px;
}

h1 span{color:#ff5252}

button{
  background:linear-gradient(135deg,#ff416c,#ff4b2b);
  border:none;
  padding:12px 28px;
  border-radius:40px;
  color:#fff;
  cursor:pointer;
  margin:8px;
}

input{
  padding:10px 15px;
  border-radius:30px;
  border:none;
}

.game{
  height:220px;
  border:2px dashed rgba(255,255,255,.4);
  border-radius:16px;
  position:relative;
  overflow:hidden;
}

.gift{position:absolute;font-size:2.2rem;cursor:pointer}

/* SWITCH */
.switch{
  width:70px;height:36px;
  background:#555;border-radius:50px;
  position:relative;margin:auto;
  cursor:pointer;
}
.switch::after{
  content:"";
  width:30px;height:30px;
  background:#fff;
  border-radius:50%;
  position:absolute;
  top:3px;left:4px;
  transition:.3s;
}
.switch.on{background:#ff4d4d}
.switch.on::after{left:36px}

/* LEADERBOARD */
.leaderboard li{
  list-style:none;
  padding:6px;
  border-bottom:1px solid rgba(255,255,255,.1)
}

canvas{max-width:100%}
footer{opacity:.7;margin:20px 0}
</style>
</head>

<body>
<div class="container">

<div class="card">
<h1>Merry Christmas ğŸ„<br><span>from AswinSonuzz</span></h1>
<input id="name" placeholder="Enter your name">
<br>
<button onclick="saveName()">Continue ğŸ</button>
<p id="wish"></p>
</div>

<div class="card">
<h3>ğŸ„ Christmas Mode</h3>
<div class="switch" id="themeSwitch" onclick="toggleTheme()"></div>
</div>

<div class="card">
<h3>ğŸ® Catch the Gift</h3>
<div class="game" id="game"></div>
<p>Score: <span id="score">0</span></p>
</div>

<div class="card">
<h3>ğŸ† Leaderboard</h3>
<ul class="leaderboard" id="board"></ul>
</div>

<div class="card">
<h3>ğŸ“¸ Christmas Camera</h3>
<video id="video" autoplay playsinline width="100%"></video>
<br>
<button onclick="takePhoto()">Capture ğŸ„</button>
<canvas id="photo"></canvas>
<br>
<button onclick="savePhoto()">Save to Gallery</button>
</div>

<div id="dilnaOnly" style="display:none">
<div class="card">
<h3>â¤ï¸ Special for You</h3>
<button onclick="sendMail()">Send Christmas Hug ğŸ¤—</button>
</div>
</div>

<button onclick="mute()">ğŸ”‡ Mute Music</button>

<footer>Crafted with â¤ï¸ by AswinSonuzz</footer>

</div>

<audio id="music" autoplay loop>
<source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<audio id="click">
<source src="https://www.soundjay.com/switch/switch-1.mp3">
</audio>

<script>
/* STORAGE */
let player=localStorage.getItem("player")||"";
let scores=JSON.parse(localStorage.getItem("scores")||"{}");
document.getElementById("name").value=player;

const crushNames=["dilna","dillu","dilu"];

function saveName(){
  player=document.getElementById("name").value.trim();
  localStorage.setItem("player",player);

  if(crushNames.includes(player.toLowerCase())){
    document.getElementById("wish").innerText="â¤ï¸ You are very special to me this Christmas.";
    document.getElementById("dilnaOnly").style.display="block";
    document.body.classList.add("christmas");
  }else{
    document.getElementById("wish").innerText="ğŸ„ Wishing you joy & warmth!";
  }
}

/* GAME */
let score=0;
const game=document.getElementById("game");

function spawn(){
 game.innerHTML="";
 const g=document.createElement("div");
 g.className="gift";
 g.innerText="ğŸ";
 g.style.left=Math.random()*80+"%";
 g.style.top=Math.random()*70+"%";
 g.onclick=()=>{
   score++;
   document.getElementById("score").innerText=score;
   scores[player]=Math.max(scores[player]||0,score);
   localStorage.setItem("scores",JSON.stringify(scores));
   updateBoard();
   spawn();
 };
 game.appendChild(g);
}
spawn();

/* LEADERBOARD */
function updateBoard(){
 const list=document.getElementById("board");
 list.innerHTML="";
 Object.entries(scores)
 .sort((a,b)=>b[1]-a[1])
 .forEach(([n,s])=>{
   const li=document.createElement("li");
   li.innerText=`${n} â€” ${s}`;
   list.appendChild(li);
 });
}
updateBoard();

/* THEME */
function toggleTheme(){
 document.getElementById("themeSwitch").classList.toggle("on");
 document.body.classList.toggle("christmas");
 document.getElementById("click").play();
}

/* MUSIC */
const music=document.getElementById("music");
function mute(){music.muted=true}

/* CAMERA */
navigator.mediaDevices.getUserMedia({video:true})
.then(s=>video.srcObject=s);

function takePhoto(){
 const c=document.getElementById("photo");
 const ctx=c.getContext("2d");
 c.width=video.videoWidth;
 c.height=video.videoHeight;
 ctx.drawImage(video,0,0);
 ctx.fillStyle="white";
 ctx.font="30px Poppins";
 ctx.fillText("AswinSonuzz",20,c.height-20);
}

function savePhoto(){
 const link=document.createElement("a");
 link.download="christmas.png";
 link.href=document.getElementById("photo").toDataURL();
 link.click();
}

/* MAIL */
function sendMail(){
 window.location.href="mailto:traswin300@gmail.com?subject=Christmas Hug&body=Merry Christmas â¤ï¸";
}
</script>
</body>
</html>